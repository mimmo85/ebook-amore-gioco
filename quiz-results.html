<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="I tuoi risultati del test relazione tossica con dashboard personalizzata.">
    <title>I Tuoi Risultati | OLΓЯΞ IL MIИDSΞT</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #FF1493;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --critical: #991b1b;
            --dark: #1a1a1a;
            --light: #ffffff;
            --gray: #f8f9fa;
            --text-dark: #333333;
            --text-light: #666666;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4F0 100%);
        }
        
        /* Header */
        header {
            background: var(--light);
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #000000;
            text-align: center;
        }
        
        /* Main Dashboard */
        main {
            padding: 60px 20px;
        }
        
        .dashboard-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .dashboard-title h1 {
            font-size: 3rem;
            color: var(--dark);
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .dashboard-title p {
            font-size: 1.2rem;
            color: var(--text-light);
        }
        
        /* Overall Score Card */
        .score-card {
            background: var(--light);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            text-align: center;
        }
        
        .risk-badge {
            display: inline-block;
            padding: 10px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 30px;
        }
        
        .risk-badge.low {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .risk-badge.medium {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .risk-badge.high {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        .risk-badge.critical {
            background: rgba(153, 27, 27, 0.2);
            color: var(--critical);
        }
        
        .score-title {
            font-size: 1.5rem;
            color: var(--text-light);
            margin-bottom: 30px;
        }
        
        /* Gauge Chart */
        .gauge-container {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 0 auto 30px;
        }
        
        .gauge {
            position: relative;
            width: 300px;
            height: 150px;
            overflow: hidden;
        }
        
        .gauge-bg {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: conic-gradient(
                from 180deg,
                var(--success) 0deg 54deg,
                var(--warning) 54deg 126deg,
                var(--danger) 126deg 180deg
            );
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .gauge-cover {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 240px;
            height: 240px;
            background: var(--light);
            border-radius: 50%;
        }
        
        .gauge-needle {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 4px;
            height: 130px;
            background: var(--dark);
            transform-origin: bottom;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 10;
        }
        
        .gauge-center {
            position: absolute;
            bottom: -10px;
            left: 50%;
            width: 20px;
            height: 20px;
            background: var(--dark);
            border-radius: 50%;
            transform: translateX(-50%);
            z-index: 11;
        }
        
        .gauge-value {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark);
            z-index: 12;
        }
        
        .gauge-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        .risk-description {
            font-size: 1.2rem;
            color: var(--text-dark);
            line-height: 1.8;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Categories Breakdown */
        .categories-section {
            background: var(--light);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 30px;
            font-weight: 800;
        }
        
        .category-item {
            margin-bottom: 30px;
        }
        
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .category-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .category-percentage {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .category-bar-bg {
            width: 100%;
            height: 25px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .category-bar-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: var(--light);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        /* Identified Signals */
        .signals-section {
            background: var(--light);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .signals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .signal-badge {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: 600;
            border-left: 4px solid var(--danger);
        }
        
        /* Recommendations */
        .recommendations-section {
            background: var(--light);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .recommendation-item {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px;
            background: var(--gray);
            border-radius: 10px;
        }
        
        .recommendation-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }
        
        .recommendation-content h3 {
            font-size: 1.2rem;
            color: var(--dark);
            margin-bottom: 8px;
        }
        
        .recommendation-content p {
            color: var(--text-light);
            line-height: 1.7;
        }
        
        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 60px 50px;
            border-radius: 20px;
            text-align: center;
            color: var(--light);
            margin-bottom: 40px;
        }
        
        .cta-section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .cta-section p {
            font-size: 1.2rem;
            color: #cccccc;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--primary);
            color: var(--light);
            padding: 20px 50px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.4);
        }
        
        .cta-button:hover {
            background: #E0127B;
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 20, 147, 0.5);
        }
        
        /* Share Section */
        .share-section {
            text-align: center;
            padding: 40px;
            background: var(--light);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        .share-title {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .share-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .share-button {
            padding: 12px 30px;
            background: var(--gray);
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: var(--text-dark);
        }
        
        .share-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* Footer */
        footer {
            padding: 40px 0;
            background: var(--dark);
            color: var(--light);
            text-align: center;
        }
        
        footer a {
            color: var(--primary);
            text-decoration: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .dashboard-title h1 {
                font-size: 2rem;
            }
            
            .score-card,
            .categories-section,
            .signals-section,
            .recommendations-section,
            .cta-section,
            .share-section {
                padding: 30px 20px;
            }
            
            .gauge-container {
                width: 250px;
            }
            
            .gauge, .gauge-bg, .gauge-cover {
                width: 250px;
            }
            
            .gauge-cover {
                width: 190px;
                left: 30px;
            }
            
            .signals-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">OLΓЯΞ IL MIИDSΞT</div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main>
        <div class="container">
            <!-- Title -->
            <div class="dashboard-title">
                <h1>📊 I Tuoi Risultati</h1>
                <p>Ecco l'analisi completa della tua relazione</p>
            </div>

            <!-- Overall Score -->
            <div class="score-card">
                <div class="risk-badge" id="riskBadge">CARICAMENTO...</div>
                <h2 class="score-title">Livello di Rischio Complessivo</h2>
                
                <div class="gauge-container">
                    <div class="gauge">
                        <div class="gauge-bg"></div>
                        <div class="gauge-cover"></div>
                        <div class="gauge-needle" id="gaugeNeedle"></div>
                        <div class="gauge-center"></div>
                        <div class="gauge-value" id="gaugeValue">0%</div>
                    </div>
                    <div class="gauge-labels">
                        <span>🟢 Basso</span>
                        <span>🟡 Medio</span>
                        <span>🔴 Alto</span>
                    </div>
                </div>
                
                <p class="risk-description" id="riskDescription">
                    Caricamento descrizione...
                </p>
            </div>

            <!-- Categories Breakdown -->
            <div class="categories-section">
                <h2 class="section-title">📈 Analisi per Categoria</h2>
                <div id="categoriesContainer"></div>
            </div>

            <!-- Identified Signals -->
            <div class="signals-section">
                <h2 class="section-title">🚨 Segnali Identificati nella Tua Relazione</h2>
                <p style="color: var(--text-light); margin-bottom: 20px;">
                    Hai risposto "SÌ" a <strong id="totalYesCount">0</strong> domande su 15. 
                    Ecco i segnali di allarme presenti:
                </p>
                <div class="signals-grid" id="signalsContainer"></div>
            </div>

            <!-- Recommendations -->
            <div class="recommendations-section">
                <h2 class="section-title">💡 Cosa Fare Adesso</h2>
                <div id="recommendationsContainer"></div>
            </div>

            <!-- CTA to eBook -->
            <div class="cta-section">
                <h2>Vuoi una Guida Completa per Uscirne?</h2>
                <p>
                    Questo test ti ha dato una fotografia della situazione, ma ora hai bisogno 
                    di strumenti concreti per proteggerti e, se necessario, uscire dalla relazione 
                    in sicurezza.
                </p>
                <p>
                    L'<strong>eBook "Quando l'Amore Diventa un Gioco"</strong> (40 pagine) ti insegna:
                </p>
                <ul style="text-align: left; max-width: 600px; margin: 20px auto; line-height: 2;">
                    <li>✓ Tecniche di difesa emotiva contro manipolazione</li>
                    <li>✓ Come stabilire confini sani (anche se rimani)</li>
                    <li>✓ Piano di uscita step-by-step senza sensi di colpa</li>
                    <li>✓ Strategie di guarigione dal trauma emotivo</li>
                    <li>✓ Come non ripetere gli stessi pattern</li>
                </ul>
                <a href="quando-lamore-diventa-un-gioco/" class="cta-button">
                    📚 Scarica l'eBook Completo - €27
                </a>
                <p style="margin-top: 20px; font-size: 0.9rem; color: #999;">
                    Download immediato · Garanzia 30 giorni · 4 Bonus inclusi
                </p>
            </div>

            <!-- Share Results -->
            <div class="share-section">
                <h3 class="share-title">Aiuta Altre Persone a Scoprire la Verità</h3>
                <p style="color: var(--text-light); margin-bottom: 20px;">
                    Condividi questo test (non i tuoi risultati) per aiutare chi potrebbe essere 
                    in una situazione simile
                </p>
                <div class="share-buttons">
                    <a href="#" class="share-button" onclick="shareWhatsApp()">
                        💬 WhatsApp
                    </a>
                    <a href="#" class="share-button" onclick="shareFacebook()">
                        📘 Facebook
                    </a>
                    <a href="#" class="share-button" onclick="shareTwitter()">
                        🐦 Twitter
                    </a>
                    <a href="index.html" class="share-button">
                        🔄 Rifai il Test
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 OLΓЯΞ IL MIИDSΞT. Tutti i diritti riservati.</p>
            <p>
                <a href="mailto:oltreilmindset@gmail.com
">Contatti</a> · 
                <a href="#">Privacy Policy</a> · 
                <a href="quando-lamore-diventa-un-gioco/">eBook Completo</a>
            </p>
        </div>
    </footer>

    <script>
        // Load scores from localStorage
        const scores = JSON.parse(localStorage.getItem('quizScores') || '{}');
        const answers = JSON.parse(localStorage.getItem('quizAnswers') || '[]');
        
        // Risk level configurations
        const riskLevels = {
            low: {
                label: '🟢 BASSO RISCHIO',
                class: 'low',
                description: 'La tua relazione presenta pochi segnali di tossicità. Questo è positivo! Tuttavia, rimani sempre vigile e non ignorare eventuali cambiamenti di comportamento del partner. La prevenzione è sempre meglio della cura.',
                recommendations: [
                    {
                        icon: '✅',
                        title: 'Continua a Coltivare la Comunicazione',
                        text: 'Mantieni aperto il dialogo con il partner e con le persone care. La comunicazione sana è la base di ogni relazione.'
                    },
                    {
                        icon: '🛡️',
                        title: 'Mantieni i Tuoi Confini',
                        text: 'Anche se la situazione è buona, continua a mantenere la tua indipendenza emotiva e i tuoi spazi personali.'
                    },
                    {
                        icon: '📚',
                        title: 'Educati Sempre',
                        text: 'Conoscere i segnali di relazioni tossiche ti aiuta a riconoscerli immediatamente se dovessero manifestarsi.'
                    }
                ]
            },
            medium: {
                label: '🟡 MEDIO RISCHIO',
                class: 'medium',
                description: 'La tua relazione presenta alcuni segnali di tossicità che meritano attenzione. Non è una situazione critica, ma è importante agire ora per evitare che peggiori. Questi pattern tendono a intensificarsi nel tempo se non affrontati.',
                recommendations: [
                    {
                        icon: '🗣️',
                        title: 'Affronta il Problema con il Partner',
                        text: 'Parla apertamente dei comportamenti che ti fanno stare male. Osserva come reagisce: un partner sano ascolterà e cambierà.'
                    },
                    {
                        icon: '📋',
                        title: 'Tieni un Diario',
                        text: 'Documenta gli episodi problematici. Questo ti aiuterà a vedere i pattern e a non dubitare della tua percezione.'
                    },
                    {
                        icon: '👥',
                        title: 'Non Isolarti',
                        text: 'Mantieni stretti i contatti con amici e famiglia. Il supporto sociale è fondamentale in questa fase.'
                    },
                    {
                        icon: '💪',
                        title: 'Considera un Supporto Professionale',
                        text: 'Una terapia di coppia o individuale può aiutarti a capire meglio la situazione e trovare soluzioni.'
                    }
                ]
            },
            high: {
                label: '🟠 ALTO RISCHIO',
                class: 'high',
                description: 'La tua relazione presenta numerosi segnali di tossicità. Sei in una situazione dannosa che sta probabilmente impattando la tua salute mentale e autostima. È importante che tu agisca per proteggerti. Non sei tu il problema - il comportamento del partner è inaccettabile.',
                recommendations: [
                    {
                        icon: '🆘',
                        title: 'Riconosci che È Abuso',
                        text: 'Quello che stai vivendo è abuso emotivo. Non minimizzare: è reale, è grave e merita di essere preso sul serio.'
                    },
                    {
                        icon: '🛡️',
                        title: 'Proteggi Te Stessa Emotivamente',
                        text: 'Inizia a praticare tecniche di "Grey Rock" (essere noiosa come un sasso grigio) per ridurre le reazioni del manipolatore.'
                    },
                    {
                        icon: '📞',
                        title: 'Cerca Supporto Immediato',
                        text: 'Parla con persone fidate, considera un terapeuta specializzato in abuso emotivo, o contatta un centro antiviolenza.'
                    },
                    {
                        icon: '📝',
                        title: 'Prepara un Piano di Uscita',
                        text: 'Se decidi di lasciarlo, prepara un piano sicuro. Documenta tutto, proteggi i tuoi beni, informa persone fidate.'
                    },
                    {
                        icon: '❌',
                        title: 'Non Sperare che Cambi',
                        text: 'I manipolatori raramente cambiano, specialmente se non riconoscono il problema. La tua priorità sei TU.'
                    }
                ]
            },
            critical: {
                label: '🔴 RISCHIO CRITICO',
                class: 'critical',
                description: 'Sei in una relazione altamente tossica e potenzialmente pericolosa. Quasi tutti i segnali di abuso emotivo sono presenti. La tua sicurezza emotiva (e forse fisica) è a rischio. Ti incoraggiamo FORTEMENTE a cercare aiuto professionale immediato. Non sei sola e puoi uscirne.',
                recommendations: [
                    {
                        icon: '🚨',
                        title: 'PRIORITÀ: La Tua Sicurezza',
                        text: 'Se senti che potresti essere in pericolo fisico, contatta subito il 1522 (numero antiviolenza) o i servizi di emergenza.'
                    },
                    {
                        icon: '🆘',
                        title: 'Contatta un Centro Antiviolenza',
                        text: 'Anche se "è solo" violenza emotiva, i centri antiviolenza possono aiutarti con supporto psicologico e legale gratuito.'
                    },
                    {
                        icon: '👥',
                        title: 'Parla con Persone Fidate SUBITO',
                        text: 'Rompi il silenzio. Contatta amici, famiglia o un professionista. L\'isolamento è il nemico numero uno.'
                    },
                    {
                        icon: '📋',
                        title: 'Documenta Tutto',
                        text: 'Screenshot di messaggi, registra conversazioni (dove legale), tieni un diario dettagliato. Potrebbero servirti.'
                    },
                    {
                        icon: '🚪',
                        title: 'Pianifica l\'Uscita in Sicurezza',
                        text: 'Non improvvisare. Prepara documenti, soldi, un posto sicuro dove andare. Il momento della rottura è il più pericoloso.'
                    },
                    {
                        icon: '💪',
                        title: 'Non Sei Sola',
                        text: 'Migliaia di persone sono uscite da situazioni come la tua. Ce l\'hai fatta loro, ce la farai anche tu. Chiedi aiuto.'
                    }
                ]
            }
        };
        
        // Category labels
        const categoryLabels = {
            manipulation: 'Manipolazione Emotiva',
            control: 'Controllo',
            devaluation: 'Svalutazione',
            isolation: 'Isolamento',
            emotional_violence: 'Violenza Emotiva'
        };
        
        // All possible signals
        const allSignals = [
            'Gaslighting (distorsione realtà)',
            'Manipolazione emotiva',
            'False accuse',
            'Controllo su vestiti/uscite',
            'Controllo finanziario',
            'Controllo ossessivo',
            'Critica costante',
            'Sminuimento successi',
            'Confronti negativi',
            'Isolamento da affetti',
            'Creazione conflitti',
            'Senso di solitudine',
            'Silent treatment',
            'Love bombing + freddezza',
            'Minacce velate'
        ];
        
        // Initialize dashboard
        function initDashboard() {
            if (!scores || !scores.totalPercentage) {
                alert('Errore nel caricamento dei risultati. Riprova il test.');
                window.location.href = 'quiz.html';
                return;
            }
            
            // Set overall score
            displayOverallScore();
            
            // Display categories
            displayCategories();
            
            // Display signals
            displaySignals();
            
            // Display recommendations
            displayRecommendations();
        }
        
        // Display overall score
        function displayOverallScore() {
            const riskConfig = riskLevels[scores.riskLevel];
            
            // Set badge
            document.getElementById('riskBadge').textContent = riskConfig.label;
            document.getElementById('riskBadge').className = 'risk-badge ' + riskConfig.class;
            
            // Set gauge value
            document.getElementById('gaugeValue').textContent = scores.totalPercentage + '%';
            
            // Animate gauge needle (0deg = left, 180deg = right)
            const needleRotation = (scores.totalPercentage / 100) * 180;
            setTimeout(() => {
                document.getElementById('gaugeNeedle').style.transform = 
                    `translateX(-50%) rotate(${needleRotation}deg)`;
            }, 500);
            
            // Set description
            document.getElementById('riskDescription').textContent = riskConfig.description;
        }
        
        // Display categories
        function displayCategories() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';
            
            Object.keys(scores.categories).forEach(categoryId => {
                const percentage = scores.categories[categoryId];
                const label = categoryLabels[categoryId];
                
                // Determine color based on percentage
                let color;
                if (percentage <= 33) {
                    color = 'var(--success)';
                } else if (percentage <= 66) {
                    color = 'var(--warning)';
                } else {
                    color = 'var(--danger)';
                }
                
                const categoryHTML = `
                    <div class="category-item">
                        <div class="category-header">
                            <span class="category-name">${label}</span>
                            <span class="category-percentage" style="color: ${color}">
                                ${percentage}%
                            </span>
                        </div>
                        <div class="category-bar-bg">
                            <div class="category-bar-fill" 
                                 style="width: ${percentage}%; background: ${color};">
                            </div>
                        </div>
                    </div>
                `;
                
                container.innerHTML += categoryHTML;
            });
            
            // Animate bars
            setTimeout(() => {
                document.querySelectorAll('.category-bar-fill').forEach(bar => {
                    bar.style.width = bar.style.width;
                });
            }, 100);
        }
        
        // Display signals
        function displaySignals() {
            document.getElementById('totalYesCount').textContent = scores.totalYes;
            
            const container = document.getElementById('signalsContainer');
            container.innerHTML = '';
            
            answers.forEach((answer, index) => {
                if (answer === 'yes') {
                    const signal = allSignals[index];
                    const signalHTML = `
                        <div class="signal-badge">
                            🚩 ${signal}
                        </div>
                    `;
                    container.innerHTML += signalHTML;
                }
            });
            
            if (scores.totalYes === 0) {
                container.innerHTML = '<p style="color: var(--success); font-weight: 600;">✓ Nessun segnale critico identificato - ottimo!</p>';
            }
        }
        
        // Display recommendations
        function displayRecommendations() {
            const riskConfig = riskLevels[scores.riskLevel];
            const container = document.getElementById('recommendationsContainer');
            container.innerHTML = '';
            
            riskConfig.recommendations.forEach(rec => {
                const recHTML = `
                    <div class="recommendation-item">
                        <div class="recommendation-icon">${rec.icon}</div>
                        <div class="recommendation-content">
                            <h3>${rec.title}</h3>
                            <p>${rec.text}</p>
                        </div>
                    </div>
                `;
                container.innerHTML += recHTML;
            });
        }
        
        // Share functions
        function shareWhatsApp() {
            const text = 'Ho appena fatto questo test per scoprire se sei in una relazione tossica. Fallo anche tu!';
            const url = window.location.origin + '/quiz.html';
            window.open(`https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`, '_blank');
        }
        
        function shareFacebook() {
            const url = window.location.origin + '/quiz.html';
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }
        
        function shareTwitter() {
            const text = 'Test: Sei in una relazione tossica? Scoprilo in 2 minuti';
            const url = window.location.origin + '/quiz.html';
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
        }
        
        // Initialize on load
        initDashboard();
    </script>
</body>
</html>